<!DOCTYPE html>
<html>
<head>
    <title>Custom Browser</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom overrides if needed */
        body {
            margin: 0;
        }

        #webview {
            width: 100%;
            height: calc(100vh - 3.5rem);
            border: none;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div id="toolbar" class="flex items-center p-2 bg-white shadow-md">
        <button id="back" class="px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600">Back</button>
        <button id="forward" class="ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600">Forward</button>
        <button id="refresh" class="ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600">Refresh</button>
        <input id="url-input" type="text" class="flex-1 ml-2 p-1 border rounded" placeholder="Enter URL" value="https://example.com">
        <button id="go" class="ml-2 px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600">Go</button>
        <button id="apply-style" class="ml-2 px-3 py-1 bg-purple-500 text-white rounded hover:bg-purple-600">Apply Style</button>
        <button id="send-to-llm" class="ml-2 px-3 py-1 bg-indigo-500 text-white rounded hover:bg-indigo-600">Send to LLM</button>
        <select id="theme-select" class="ml-2 p-1 border rounded">
            <!-- Dynamically populated -->
        </select>
        <button id="settings-btn" class="ml-2 px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600">Settings</button>
    </div>
    <webview id="webview" src="https://example.com" preload="./preload.js" partition="persist:custombrowser"></webview>
    <div id="llm-sidebar" class="fixed right-0 top-14 w-80 h-[calc(100vh-3.5rem)] bg-white shadow-lg p-4 overflow-y-auto hidden">
        <h3 class="text-lg font-bold">LLM Response</h3>
        <div id="llm-output" class="mt-2"></div>
        <button id="inject-rewrite" class="mt-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600">Inject Rewrite</button>
        <button id="export-response" class="mt-2 px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600">Export</button>
        <button id="close-sidebar" class="mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600">Close</button>
    </div>
    <div id="settings-modal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden">
        <div class="bg-white p-6 rounded shadow-lg w-96">
            <h3 class="text-lg font-bold mb-4">Settings</h3>
            <label class="block mb-2">LLM Endpoint: <input id="llm-endpoint" type="text" class="w-full p-1 border rounded"></label>
            <label class="block mb-2">LLM Model: <input id="llm-model" type="text" class="w-full p-1 border rounded"></label>
            <label class="block mb-2">API Key: <input id="api-key" type="password" class="w-full p-1 border rounded"></label>
            <label class="block mb-4"><input id="use-docling" type="checkbox"> Use Docling for Markdown</label>
            <h4 class="font-semibold mb-2">Custom LLM Prompts for AI Themes</h4>
            <textarea id="new-prompt" placeholder="Enter new prompt (e.g., 'Futuristic neon theme')" class="w-full p-2 border rounded mb-2"></textarea>
            <button id="add-prompt" class="px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600">Add Prompt</button>
            <ul id="prompt-list" class="mt-4"></ul>
            <div class="mt-4 flex justify-end">
                <button id="save-settings" class="px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 mr-2">Save</button>
                <button id="close-settings" class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600">Close</button>
            </div>
        </div>
    </div>
    <script src="./renderer.js"></script>
</body>
</html>